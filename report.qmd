---
title: Website Traffic Summary
subtitle: "zajichekstats.com"
date: January 2026
date-format: "MMMM YYYY"
format:
  typst:
    template-partials: 
        - typst-show.typ
        - typst-template.typ
knitr:
  opts_chunk:
    dev: svglite
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  echo = FALSE
)
```

:::{layout-ncol=3}

```{=typst}
#status-box(
   top-box-text: "Total Views", 
   bottom-box-text: [`r format(13435, big.mark = ",")`],
   top-fill: rgb("#c9b638")
   )
```

```{=typst}
#status-box(
   top-box-text: "Average Session Duration", 
   bottom-box-text: [`r paste0(1.43, " minutes")`],
   top-fill: rgb("#36637d")
   )
```

```{=typst}
#status-box(
   top-box-text: "Engaged Session Rate", 
   bottom-box-text: [`r paste0(54.3, "%")`],
   top-fill: rgb("#cbcbcb")
   )
```

:::

```{r, out.width="100%"}

library(tidyverse)
day_range <- 0:365
temp_dat <-
  tibble(
    date = Sys.Date() - days(day_range),
    Users = sample(1:100, size = length(day_range), replace = TRUE),
    Views = sample(25:200, size = length(day_range), replace = TRUE)
  )

temp_dat |> 

  # Send down the rows
  pivot_longer(
    cols = -date,
    names_to = "Metric",
    values_to = "Value"
  ) |>
  
  # Get month
  mutate(date = floor_date(date, unit = "month")) |>
  
  # Aggregate
  summarize(
    Value = sum(Value),
    .by = 
      c(
        date,
        Metric
      )
  ) |>
  
  # Add group
  add_column(Granularity = "Monthly") |>
  
  # Make a plot
  ggplot(
    aes(
      x = date,
      y = Value,
      color = Metric
    )
  ) +
  geom_line() +
  geom_point() + 
  geom_line(
    data = 
    temp_dat |> 

    # Send down the rows
    pivot_longer(
      cols = -date,
      names_to = "Metric",
      values_to = "Value"
    ) |>
    
    # Indicate group
    add_column(Granularity = "Daily"),
    aes(
      y = Value * 30
    ),
    alpha = .15
  ) +
  theme_minimal() +
  theme(
    legend.position = "top",
    legend.title = element_blank(),
    legend.text = element_text(size = 16)
  ) +
  scale_x_date(name = "Month", date_labels = "%b %y") +
  scale_y_continuous(
    name = "Monthly Count",
    sec.axis = sec_axis(~./30, name = "Daily Count")
  ) +
  scale_color_manual(values = c("#c9b638", "#36637d"))

```

<div style="background-color: #f0eeeeff;">

</div>

```{=typst}
#source_text("Source: Google Analytics")
```